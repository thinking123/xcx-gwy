<template>
  <div class="page homeSection2">
    <div class="header">
      <CSearch :val="search" @change="inputChange" external-cls="search" type="readonly"/>


      <CTab type="radius" :tabs="tabs"
            @changeTab="handleTab"
            external-cls="ctab"/>

    </div>

    <block v-if="selectedTab == 0">

      <ClassCard
        v-for="item in items1"
        :key="item.id"
        :title="item.title"
        :info="item.info"
        external-cls="classCard"/>

    </block>
      <block v-if="selectedTab == 1">

        <ClassCard1
          v-for="item in items2"
          :key="item.id"
          :num1="item.num1"
          :num2="item.num2"
          :free="item.free"
          :title="item.title"
          :price="item.price"
          :good="item.good"
          external-cls="classCard1"
        />

      </block>
    <CTabbar/>

  </div>
</template>

<script>
  import wepy from '@wepy/core';
  import store from 'store';

  wepy.page({
    store,
    config: {
      navigationBarTitleText: ''
    },
    computed: {

    },
    data: {
      search:'',
      tabs:[
        {text:'随听音频'},
        {text:'部委课堂'},
        {text:'精炼题目'},
      ],
      selectedTab:0,
      items1:[],
      items2:[],
      items3:[],
    },
    methods: {
      inputChange(v){
        this.search = v;
      },
      handleTab({tab ,index}){
        this.selectedTab = index
      },
    },
    onShow(){
      
    },
    created () {
      let arr = [];
      for(let i = 0 ; i < 10 ; i++){
        arr.push({
          title:'课程名称，如资料分析',
          info:'考点：资料分析秒杀综述',
          id:i
        });
      }

      this.items1 = arr;

      arr = [];
      for(let i = 0 ; i < 10 ; i++){
        arr.push({
          num1:'2',
          num2:'2',
          free:i%2,
          price:'123.12',
          title:'真题讲课程名称课程名称课程名称课程名称',
          good:'good',
          id:i
        });
      }

      this.items2 = arr;
    }
  });
</script>
<style lang="scss">
  .homeSection2{
    background:rgba(242,242,242,1);
    height: auto;
    .header{
      background:rgba(255,255,255,1);
      display: flex;
      flex-direction: column;
      align-items: center;
      .search{
        margin:32rpx;
      }

      .ctab{
        width:690rpx;
        margin-bottom:32rpx;
      }
    }

    .classCard{
      margin: 32rpx auto;
    }

    .classCard1{
      margin: 30rpx 32rpx;
    }

  }
</style>
<config>
{
    navigationBarTitleText: '开明真题',
    usingComponents: {
  CTabbar:'~UI/CTabbar',
  CSearch:'~UI/CSearch',
  CTab:'~UI/CTab',
  ClassCard:'~Custom/ClassCard',
  ClassCard1:'~Custom/ClassCard1',
    }
}
</config>
